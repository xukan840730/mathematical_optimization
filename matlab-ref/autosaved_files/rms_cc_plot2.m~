close all
clear all

%% Load data generated by Michael: correlation coefficients and rms errors
% for 'best' SEA simulations and UVic polar amplification run, using
% multiple analysis types.
fid=fopen('out2.dat');
nn=1;
na=0;
while ~feof(fid);
    %read line
    str = fgetl(fid);
    %remove spaces and semicolons
    str = regexp(str,'[\s:]*','split');
    nn
    %get data from global and zonal spatial comparisons
    if nn>=1 && nn<=10
        d(:,nn,1)=cellfun(@str2num , str);
    elseif nn>10
        d(:,nn-10,2)=cellfun(@str2num , str);
    end
    nn=nn+1;
end
fclose(fid);

%%
%Plot relationship between cc and rms for all experiments
figure
axrange=[0 3 0.6 1];
hold on
mt={'+' 'o' '*' '.' 'x' 's' 'd' '^' 'v' '>' '<' 'p' 'h'};

%set marker labels
for na=1:2
    for n=1:10; %for all sensitivities, on zonal plot
        subplot(1,2,na)
        hold on
        scatter(d(3,n,na),d(2,n,na),'o','SizeData',100);
        ll{n}=num2str(d(1,n,na));
        ll{1}='UVic PAL';
        text(d(3,n,na),d(2,n,na)-0.01,ll{n},'HorizontalAlignment','center');
        xlabel('RMS error');
        ylabel('Correlation coefficient');
        axis(axrange)
        title('Zonal data, latitude-limited');
        hold off
    end
end
hold off

